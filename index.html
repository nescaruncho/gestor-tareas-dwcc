<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestor de Tareas</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.2/Sortable.min.js"></script>
    <script src="script.js"></script> <!-- Importa tu archivo de scripts -->
</head>

<body onload="validarAcceso()"> <!-- Llama a la función al cargar la página -->
    <div id="contenido" style="display: none;">
        <h1>Gestor de Tareas y Objetivos</h1>
        <div class="menu-buttons">

            <button onclick="showCategoryManager()">Gestor de Categorías</button>
            <button onclick="showTaskManager()">Gestor de Tareas</button>
            <button onclick="showGoalManager()">Mis Objetivos</button>
        </div>
    </div>

    <div id="categoryManager" class="manager-container" style="display:none;">
        <h2>Gestor de Categorías</h2>
        <hr class="mi-linea">
        <div class="nuevo-objetivo">
            <h3>Nueva Categoría:</h3>
        </div><br>
        <label for="catName">Nombre:</label>
        <input type="text" id="catName" placeholder="Nombre categoría">
        <button onclick="addCat()">Añadir Categoría</button>
        <br><br><br>
        <div class="nuevo-objetivo">
            <h3>Eliminar Categorías:</h3>
        </div><br><br>
        <div id="categoriesTags"></div>
        <button onclick="eliminarCategoriasSeleccionadas()">Eliminar Categorías Seleccionadas</button>
    </div>

    <div id="taskManager" class="manager-container" style="display:none;">
        <h2>Gestor de Tareas</h2>
        <hr class="mi-linea">
        <div class="nuevo-objetivo">
            <h3>Nueva Tarea:</h3>
        </div><br>
        <label for="taskName">Nombre:</label>
        <input type="text" id="taskName" placeholder="Nombre tarea">
        <label for="taskDate">Fecha vencimiento:</label>
        <input type="date" id="taskDate">
        <label for="taskTime">Hora vencimiento:</label>
        <input type="time" id="taskTime">
        <label for="taskCategory">Categoría:</label>
        <select id="taskCategory"></select><br><br>

        <label>Recurrencia (Opcional):</label>
        <div style="margin-top: 10px;">
            <label class="myLabel">
                <input id="diaria" type="radio" name="recurrence" value="diaria"> Diaria
            </label>
            <label class="myLabel">
                <input id="semanal" type="radio" name="recurrence" value="semanal"> Semanal
            </label>
            <label class="myLabel">
                <input id="mensual" type="radio" name="recurrence" value="mensual"> Mensual
            </label>
        </div>

        <button onclick="addTask()">Añadir Tarea</button><br>
        <br>
        <div class="nuevo-objetivo">
            <h3>Tareas:</h3>
        </div>
        <div id="tasks" class="task-list"></div>
    </div>

    <div id="goalManager" class="manager-container" style="display:none;">
        <h2>Mis Objetivos</h2>
        <hr class="mi-linea">
        <div id="createGoalForm">
            <div class="nuevo-objetivo">
                <h3>Nuevo Objetivo:</h3>
            </div>
            <br>
            <label for="goalName">Nombre:</label>
            <input type="text" id="goalName" placeholder="Nombre objetivo">
            <label for="goalDate">Fecha Vencimiento:</label>
            <input type="date" id="goalDate">
            <label for="goalProgress">Progreso:</label>
            <input class="imputProgress" type="number" id="goalProgress" placeholder="Progreso (%)" min="0"
                max="100"><br>
            <label for="goalTask">Tareas Asignadas:</label><br>
            <select id="goalTask" multiple></select><br>
            <button id="addGoalButton" onclick="addGoal()">Añadir Objetivo</button>
        </div>

        <div id="editGoalFormContainer" style="display:none;">
            <div class="nuevo-objetivo">
                <h3>Editar Objetivo:</h3>
            </div>
            <br>
            <label for="editGoalName">Nombre:</label>
            <input type="text" id="editGoalName" placeholder="Nombre del objetivo">
            <label for="editGoalDate">Fecha Vencimiento:</label>
            <input type="date" id="editGoalDate">
            <label for="editGoalProgress">Progreso:</label>
            <input type="number" id="editGoalProgress" placeholder="Progreso (%)"><br>
            <label for="editGoalTask">Tareas Asignadas:</label><br>
            <select id="editGoalTask" multiple></select><br>
            <button id="updateGoalButton" onclick="updateGoal()">Actualizar Objetivo</button>
        </div>

        <br>
        <div class="nuevo-objetivo">
            <h3>Objetivos</h3>
        </div>
        <div id="goals" class="goal-list"></div>
    </div>

</body>

</html>